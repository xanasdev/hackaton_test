# Быстрое решение проблемы с картой

## Проблема
Карта Yandex Maps не отображается на странице.

## Решение за 3 шага

### Шаг 1: Создайте файл `.env.local`

В корне проекта (рядом с package.json) создайте файл `.env.local`:

```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_YANDEX_MAPS_KEY=ваш_api_ключ_yandex
```

### Шаг 2: Получите API ключ

1. Откройте: https://developer.tech.yandex.ru/services/
2. Войдите или зарегистрируйтесь
3. Создайте новый ключ для "JavaScript API и HTTP Геокодер"
4. Скопируйте ключ в `.env.local`

### Шаг 3: Перезапустите сервер

```bash
# Остановите сервер (Ctrl+C)
# Запустите снова
npm run dev
```

## Проверка

### Откройте тестовую страницу:
http://localhost:3000/simple-map

Эта страница покажет:
- ✅ Найден ли API ключ
- ✅ Загружается ли скрипт Yandex Maps
- ✅ Создается ли карта
- ❌ Ошибки если есть

### Если карта работает на /simple-map:
Значит проблема в React компонентах. Проверьте:

1. **MapContainer.tsx** - правильная структура YMaps
2. **Высота контейнера** - должна быть > 0
3. **Консоль браузера** - нет ли ошибок React

### Если карта НЕ работает на /simple-map:
Проблема в API ключе или сети:

1. **Проверьте ключ** - правильно ли скопирован
2. **Проверьте интернет** - доступен ли api-maps.yandex.ru
3. **Проверьте консоль** - какие ошибки показывает

## Частые ошибки

### ❌ API ключ не найден
```
Решение: Файл .env.local должен быть в корне проекта
Не в /src, не в /app, а рядом с package.json
```

### ❌ Invalid API key
```
Решение: Ключ неправильный или не активирован
Создайте новый ключ на developer.tech.yandex.ru
```

### ❌ Карта серая
```
Решение: Проверьте координаты центра
Для Каспийского моря: [42.8746, 47.6248]
```

### ❌ Height = 0
```
Решение: Родительский контейнер должен иметь высоту
Добавьте style={{ height: '600px' }} или className
```

## Структура файлов

```
frontend/
├── .env.local          ← СОЗДАЙТЕ ЭТОТ ФАЙЛ
├── package.json
├── src/
│   └── app/
│       └── (main)/
│           ├── simple-map/    ← Тестовая страница
│           └── page.tsx       ← Главная страница
```

## Команды для проверки

```bash
# Проверить, что .env.local существует
ls -la .env.local

# Проверить содержимое (без вывода ключа)
cat .env.local | grep NEXT_PUBLIC

# Перезапустить сервер
npm run dev
```

## Если всё равно не работает

1. Откройте /simple-map
2. Откройте консоль браузера (F12)
3. Сделайте скриншот ошибок
4. Проверьте вкладку Network - есть ли запросы к yandex.ru

## Контрольный список

- [ ] Файл `.env.local` создан в корне проекта
- [ ] API ключ добавлен в `.env.local`
- [ ] Dev сервер перезапущен
- [ ] Страница /simple-map открывается
- [ ] В консоли нет ошибок
- [ ] Запросы к api-maps.yandex.ru успешны (200)

Если все пункты выполнены, карта должна работать!
