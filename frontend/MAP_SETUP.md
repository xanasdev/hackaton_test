# Настройка Yandex Maps

## Исправления

### 1. Структура компонента MapContainer
Согласно документации @pbe/react-yandex-maps, компонент YMaps должен быть родительским для всех карт.

**Было:**
```tsx
<div className={styles.mapWrapper}>
  <YMaps>
    <Map />
  </YMaps>
</div>
```

**Стало:**
```tsx
<YMaps>
  <div className={styles.mapWrapper}>
    <Map />
  </div>
</YMaps>
```

### 2. Стили карты
Добавлены правильные стили для отображения карты:

```css
.mapWrapper {
  width: 100%;
  height: 100%;
  position: relative;
}

.mapWrapper > div {
  width: 100% !important;
  height: 100% !important;
}
```

### 3. Z-index для оверлеев
Оверлеи теперь имеют правильный z-index (1000) и pointer-events для корректной работы кнопок.

## Настройка API ключа

1. Получите API ключ Yandex Maps: https://developer.tech.yandex.ru/services/

2. Создайте файл `.env.local` в корне проекта:
```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_YANDEX_MAPS_KEY=ваш_api_ключ_здесь
```

3. Перезапустите dev сервер:
```bash
npm run dev
```

## Проверка работы

Карта должна отображаться на главной странице с:
- Центром на координатах Каспийского моря [42.8746, 47.6248]
- Зумом 10
- Возможностью клика для добавления точек загрязнения
- Маркерами существующих точек

## Возможные проблемы

### Карта не загружается
- Проверьте, что API ключ правильно указан в `.env.local`
- Убедитесь, что ключ активирован в консоли Yandex
- Проверьте консоль браузера на наличие ошибок

### Карта не занимает всю высоту
- Убедитесь, что родительский контейнер имеет определенную высоту
- Проверьте, что стили `layout.module.css` применены к странице

### Оверлеи не кликабельны
- Проверьте z-index оверлеев (должен быть 1000)
- Убедитесь, что `pointer-events: auto` применен к дочерним элементам

## Координаты регионов Каспийского моря

Для удобства тестирования:
- Актау, Казахстан: [43.6500, 51.1667]
- Махачкала, Россия: [42.9849, 47.5047]
- Баку, Азербайджан: [40.4093, 49.8671]
- Туркменбаши, Туркменистан: [40.0225, 52.9550]
